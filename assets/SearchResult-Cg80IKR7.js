import{f as N,u as X,g as M,h as Z,j as ee,t as te,i as oe,k as A,l as H,m as e,n as se,w as ae,s as ie,R as I,p as ne,q as le,v as re,x as me,y as ce,z as T,A as B,B as he,C as ue,D as ye,E as de,L as fe,F as pe,G as ve,H as we,I as U,J as ge,K as x}from"./app-COrc3xy5.js";const be=["/","/intro.html","/posts/tomato.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-00-overview.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-01-what.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-02-3-way-sell-time.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-03-3-portfail-to-success.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-04-attention-is-all-you-need.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-05-pay-is-free.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-06-safe-is-lock.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-07-live-to-the-future.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-08-to-meet-helper.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-09-about-capital.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-10-about-backward.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-11-multi-version-compare.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-12-meta-cognition.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-13-improve-meta-cognition.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-14-master-key.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-15-persistence-and-perseverance.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-16-miss.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-17-this-world-is-alive.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-18-avoid-complaning.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-19-see-a-better-life.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-20-the-right-thing.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-21-what-decide-your-fate.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-22-self-motivation.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-23-conginition-choice-Cultivation-selft-motivation.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-24-most-important-of-investment-is-avoid-risk.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-25-respect-the-difference-of-capitical-levels.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-26-you-really-have-no-choice.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-27-the-condition-for-inversetment-activity.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-28-prediction-the-stock.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-29-greed-and-temptation.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-30-first-mover-advatange.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-31-all-in.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-32-the-safest-invesment-strategy.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-33-longest.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-34-double-income.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-35-sell-time.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-36-about-write.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-37-what-decide-your-price.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-38-the-method-of-choice.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-39-grow-rate.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-40-improve-grow-rate.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-41-knowledge.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-42-iq.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-43-quick-done.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-44-most-important-thing.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-45-to-be-better.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-46-think-in-action.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-47-able-t0-learn.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-48-basic-of-investment-trending.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-49-mirror-world.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-50-awesome-time-tx.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-51-best-personal-mode.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-52-final-question.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-53-right-choice.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-54-ask.html","/posts/money/2025-01-05-the-way-to-finanice-freedom-55-execute.html","/404.html","/posts/","/posts/money/","/category/","/category/%E8%94%AC%E8%8F%9C/","/category/%E7%90%86%E8%B4%A2/","/tag/","/tag/%E7%BA%A2/","/tag/%E5%9C%86/","/tag/%E7%90%86%E8%B4%A2/","/tag/%E6%8A%95%E8%B5%84/","/article/","/star/","/timeline/"],ke="SLIMSEARCH_QUERY_HISTORY",v=U(ke,[]),He=()=>{const{queryHistoryCount:a}=x;return{enabled:a>0,queryHistories:v,addQueryHistory:r=>{v.value=Array.from(new Set([r,...v.value.slice(0,a-1)]))},removeQueryHistory:r=>{v.value=[...v.value.slice(0,r),...v.value.slice(r+1)]}}},L=a=>be[a.id]+("anchor"in a?`#${a.anchor}`:""),xe="SLIMSEARCH_RESULT_HISTORY",{resultHistoryCount:j}=x,w=U(xe,[]),Qe=()=>({enabled:j>0,resultHistories:w,addResultHistory:l=>{{const r={link:L(l),display:l.display};"header"in l&&(r.header=l.header),w.value=[r,...w.value.slice(0,j-1)]}},removeResultHistory:l=>{w.value=[...w.value.slice(0,l),...w.value.slice(l+1)]}}),qe=a=>{const l=he(),r=M(),Q=ue(),i=A(0),g=H(()=>i.value>0),h=ye([]);return de(()=>{const{search:q,terminate:d}=fe(),b=ve(f=>{const{resultsFilter:C=s=>s,querySplitter:p,suggestionsFilter:D,...n}=l.value;f?(i.value+=1,q(f,r.value,n).then(s=>C(s,f,r.value,Q.value)).then(s=>{i.value-=1,h.value=s}).catch(s=>{console.warn(s),i.value-=1,i.value||(h.value=[])})):h.value=[]},x.searchDelay-x.suggestDelay,{maxWait:5e3});pe([a,r],([f])=>b(f.join(" "))),we(()=>{d()})}),{isSearching:g,results:h}};var Ee=N({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(a,{emit:l}){const r=X(),Q=M(),i=Z(ee),{addQueryHistory:g,queryHistories:h,removeQueryHistory:q}=He(),{resultHistories:d,addResultHistory:b,removeResultHistory:f}=Qe(),C=te(a,"queries"),{results:p,isSearching:D}=qe(C),n=oe({isQuery:!0,index:0}),s=A(0),u=A(0),$=H(()=>h.value.length>0||d.value.length>0),E=H(()=>p.value.length>0),R=H(()=>p.value[s.value]||null),_=()=>{const{isQuery:t,index:o}=n;o===0?(n.isQuery=!t,n.index=t?d.value.length-1:h.value.length-1):n.index=o-1},O=()=>{const{isQuery:t,index:o}=n;o===(t?h.value.length-1:d.value.length-1)?(n.isQuery=!t,n.index=0):n.index=o+1},P=()=>{s.value=s.value>0?s.value-1:p.value.length-1,u.value=R.value.contents.length-1},Y=()=>{s.value=s.value<p.value.length-1?s.value+1:0,u.value=0},z=()=>{u.value<R.value.contents.length-1?u.value+=1:Y()},G=()=>{u.value>0?u.value-=1:P()},S=t=>t.map(o=>ge(o)?o:e(o[0],o[1])),J=t=>{if(t.type==="customField"){const o=me[t.index]||"$content",[y,m=""]=ce(o)?o[Q.value].split("$content"):o.split("$content");return t.display.map(c=>e("div",S([y,...c,m])))}return t.display.map(o=>e("div",S(o)))},k=()=>{s.value=0,u.value=0,l("updateQuery",""),l("close")},K=()=>e("div",{class:"slimsearch-records"},e("div",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},i.value.queryHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},h.value.map((t,o)=>{const y=n.isQuery&&n.index===o;return e("li",{class:["slimsearch-record-matches",{active:y}],role:"option","aria-selected":y,onClick:()=>{l("updateQuery",t)}},e("div",[e(T,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},t),e("button",{type:"button",class:"slimsearch-remove-icon",title:i.value.remove,"aria-label":i.value.remove,innerHTML:B,onClick:m=>{m.preventDefault(),m.stopPropagation(),q(o)}})]))}))])),V=()=>e("ul",{class:"slimsearch-records"},e("li",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},i.value.resultHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},d.value.map((t,o)=>{const y=!n.isQuery&&n.index===o;return e("li",{class:["slimsearch-record-matches",{active:y}],role:"option","aria-selected":y},e(I,{to:t.link,onClick:()=>{k()}},()=>[e(T,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[t.header?e("div",{class:"slimsearch-record-content-header"},t.header):null,e("div",t.display.map(m=>S(m)).flat())]),e("button",{type:"button",class:"slimsearch-remove-icon",title:i.value.remove,"aria-label":i.value.remove,innerHTML:B,onClick:m=>{m.preventDefault(),m.stopPropagation(),f(o)}})]))}))]));return se("keydown",t=>{if(a.isFocusing){if(E.value){if(t.key==="ArrowUp")G();else if(t.key==="ArrowDown")z();else if(t.key==="Enter"){const o=R.value.contents[u.value];g(a.queries.join(" ")),b(o),r.push(L(o)),k()}}else if(t.key==="ArrowUp")_();else if(t.key==="ArrowDown")O();else if(t.key==="Enter"){const{index:o}=n;n.isQuery?(t.preventDefault(),l("updateQuery",h.value[o])):(r.push(d.value[o].link),k())}}}),ae([s,u],()=>{var t;(t=document.querySelector(".slimsearch-record.active .slimsearch-record-matches.active"))==null||t.scrollIntoView(!1)},{flush:"post"}),()=>e("div",{id:"slimsearch-results",class:["slimsearch-result-wrapper",{empty:a.queries.length?!E.value:!$.value}]},a.queries.length?D.value?e(ie,{hint:i.value.searching}):E.value?e("div",{class:"slimsearch-records",role:"listbox","aria-labeledby":"slimsearch-label"},p.value.map(({title:t,contents:o},y)=>{const m=s.value===y;return e("div",{class:["slimsearch-record",{active:m}],role:"group","aria-selected":m},[e("div",{class:"slimsearch-record-title"},t||i.value.defaultTitle),e("ul",{class:"slimsearch-record-contents"},o.map((c,W)=>{const F=m&&u.value===W;return e("li",{class:["slimsearch-record-matches",{active:F}],role:"option","aria-selected":F},e(I,{to:L(c),onClick:()=>{g(a.queries.join(" ")),b(c),k()}},()=>[c.type==="text"?null:e(c.type==="title"?ne:c.type==="heading"?le:re,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[c.type==="text"&&c.header?e("div",{class:"slimsearch-record-content-header"},c.header):null,e("div",J(c))])]))}))])})):i.value.emptyResult:$.value?[K(),V()]:i.value.emptyHistory)}});export{Ee as default};
