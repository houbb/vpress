import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as o,a as r,o as p}from"./app-NomDibRt.js";const a="/vpress/images/pay/arch/24-1.png",n={};function i(s,t){return p(),o("div",null,t[0]||(t[0]=[r('<h1 id="稳定性-限流的-4-种策略方案" tabindex="-1"><a class="header-anchor" href="#稳定性-限流的-4-种策略方案"><span>稳定性：限流的 4 种策略方案</span></a></h1><blockquote><p>作者：老马<br><br>公众号：老马啸西风<br><br> 博客：<a href="https://houbb.github.io/" target="_blank" rel="noopener noreferrer">https://houbb.github.io/</a><br><br> 人生理念：知行合一</p></blockquote><p>为了满足儿童时期的情怀，老马也随大流刷了一波 上海迪士尼乐园</p><p>现场可谓人山人海，特别壮观</p><div align="left"><img src="'+a+'" width="500px"></div><p>如果你负责迪士尼的游客管理，你会怎么制定规则？</p><p>既能让大家玩的开心，有不错的用户体验，又能避免因为人多可能出现的各种突发状况</p><p>聪明的小伙伴们可能已经想到了，对，限流。</p><p>如果放开闸口，游客一拥而上，大家都玩不好。</p><p>如果制定一些应对措施，比如一天限量3万张门票，并在入口检票处、各个游玩项目入口处都有排队机制，控制人数，维持秩序，保证大家都能玩的开心。</p><p>其实，不止是线下，线上也有流控。每年的<strong>春运抢火车票、天猫双十一购物狂欢节、618大促、秒杀活动、各种电商促销活动</strong>，都会带来瞬间高访问流量，如果不做有效控制，很容易把系统冲垮，影响用户体验，甚至引发各种资损。</p><p><strong>总的来说，限流对保障系统稳定运行起着至关重要的作用。</strong></p><h2 id="什么是限流" tabindex="-1"><a class="header-anchor" href="#什么是限流"><span>什么是限流</span></a></h2><p><strong>限流定义：</strong></p><blockquote><p>限制到达系统的并发请求数量，保证系统能够正常响应部分用户请求，而对于超过限制的流量，则通过拒绝服务的方式保证整体系统的可用性。</p></blockquote><p>说白了，限流 就是敢于说 不 。所以，为了保证效果，尽量将 限流组件前置化，降低无效流量 对系统的损耗。比如，部署在API网关 中，统一处理；当然如果担心分发下来的流量还是很大的话，下游的微服务系统内部也可以引入限流组件 ，多层保障~~</p><p>根据作用范围，限流分为单机版限流、分布式限流。</p><h2 id="_1、单机版限流" tabindex="-1"><a class="header-anchor" href="#_1、单机版限流"><span>1、单机版限流</span></a></h2><p>主要借助于本机内存来实现计数器，比如通过<code>AtomicLong#incrementAndGet()</code>，但是要注意之前不用的key定期做清理，释放内存。<br> 纯内存实现，无需和其他节点统计汇总，性能最高。但是也有缺点，无法做到全局统一 化的限流。</p><h2 id="_2、分布式限流" tabindex="-1"><a class="header-anchor" href="#_2、分布式限流"><span>2、分布式限流</span></a></h2><p>单机版限流仅能保护自身节点，但无法保护应用依赖的各种服务，并且在进行节点扩容、缩容时也无法准确控制整个服务的请求限制。而分布式限流，以集群为维度，可以方便的控制这个集群的请求限制，从而保护下游依赖的各种服务资源。</p>',21)]))}const b=e(n,[["render",i]]),l=JSON.parse('{"path":"/posts/interview/pay/arch/%E7%A8%B3%E5%AE%9A%E6%80%A7%EF%BC%9A%E9%99%90%E6%B5%81%E7%9A%84%204%20%E7%A7%8D%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88.html","title":"稳定性：限流的 4 种策略方案","lang":"zh-CN","frontmatter":{"title":"稳定性：限流的 4 种策略方案","pay":"https://articles.zsxq.com/id_npaoxri6vgqk.html","description":"稳定性：限流的 4 种策略方案 作者：老马 公众号：老马啸西风 博客：https://houbb.github.io/ 人生理念：知行合一 为了满足儿童时期的情怀，老马也随大流刷了一波 上海迪士尼乐园 现场可谓人山人海，特别壮观 如果你负责迪士尼的游客管理，你会怎么制定规则？ 既能让大家玩的开心，有不错的用户体验，又能避免因为人多可能出现的各种突发状况...","head":[["meta",{"property":"og:url","content":"https://houbb.github.io/vpress/posts/interview/pay/arch/%E7%A8%B3%E5%AE%9A%E6%80%A7%EF%BC%9A%E9%99%90%E6%B5%81%E7%9A%84%204%20%E7%A7%8D%E7%AD%96%E7%95%A5%E6%96%B9%E6%A1%88.html"}],["meta",{"property":"og:site_name","content":"老马啸西风"}],["meta",{"property":"og:title","content":"稳定性：限流的 4 种策略方案"}],["meta",{"property":"og:description","content":"稳定性：限流的 4 种策略方案 作者：老马 公众号：老马啸西风 博客：https://houbb.github.io/ 人生理念：知行合一 为了满足儿童时期的情怀，老马也随大流刷了一波 上海迪士尼乐园 现场可谓人山人海，特别壮观 如果你负责迪士尼的游客管理，你会怎么制定规则？ 既能让大家玩的开心，有不错的用户体验，又能避免因为人多可能出现的各种突发状况..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-30T09:38:40.000Z"}],["meta",{"property":"article:modified_time","content":"2025-03-30T09:38:40.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"稳定性：限流的 4 种策略方案\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-03-30T09:38:40.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"老马啸西风\\",\\"url\\":\\"https://houbb.github.io\\"}]}"]]},"git":{"createdTime":1743327520000,"updatedTime":1743327520000,"contributors":[{"name":"houbb","username":"houbb","email":"houbinbin.echo@gmail.com","commits":1,"url":"https://github.com/houbb"}]},"readingTime":{"minutes":2.48,"words":745},"filePathRelative":"posts/interview/pay/arch/稳定性：限流的 4 种策略方案.md","localizedDate":"2025年3月30日","excerpt":"\\n<blockquote>\\n<p>作者：老马<br>\\n<br>公众号：老马啸西风<br>\\n<br> 博客：<a href=\\"https://houbb.github.io/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://houbb.github.io/</a><br>\\n<br> 人生理念：知行合一</p>\\n</blockquote>\\n<p>为了满足儿童时期的情怀，老马也随大流刷了一波 上海迪士尼乐园</p>\\n<p>现场可谓人山人海，特别壮观</p>\\n<div align=\\"left\\">\\n    <img src=\\"/images/pay/arch/24-1.png\\" width=\\"500px\\">\\n</div>","autoDesc":true}');export{b as comp,l as data};
